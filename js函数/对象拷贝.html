<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
    </head>
    <body>
        <script>
            // 对象拷贝
            // true深拷贝   false浅拷贝
            function clone(value,isDeep){
                if(value === null){
                    return null;
                }
                if(typeof value != 'object'){
                    return value
                }
                if(Array.isArray(value)){
                    //深拷贝
                    if(isDeep){
                        return value.map(item => clone(item, true))
                    }
                    //浅拷贝
                    return [...value]
                }else{
                    if(isDeep){
                        var obj = {};
                        Object.keys(value).forEach(item => {
                            obj[item] = clone(value[item], true)
                        })
                        return obj;
                    }
                    return [...value];
                }
            }

            //shiyong
            var object = { c: { 'a': 1, e: [1, {f: 2}] }, d: { 'b': 2 } };
            var shallow = clone(object,true);
            console.log(shallow.c.e[1]);
            console.log(shallow.c === object.c);
            console.log(shallow.d === object.d);
            console.log(shallow === object)
        </script>
    </body>
</html>